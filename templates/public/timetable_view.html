<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ class_name }} Timetable</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='public/assets/vendor/bootstrap/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='public/assets/vendor/bootstrap-icons/bootstrap-icons.css') }}">

    <style>
        body {
            background: #fff9e9;
            font-family: 'Poppins', sans-serif;
        }

        a { text-decoration: none !important; }

        /* Header */
        .header-card {
            background: #f4c430;
            padding: 30px;
            text-align: center;
            color: #000;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            margin-bottom: 30px;
            animation: fadeDown .9s ease-out;
        }

        .header-card h2 {
            font-weight: 700;
            font-size: 35px;
        }

        /* Timetable Card */
        .timetable-box {
            background: white;
            padding: 22px;
            border-radius: 12px;
            border-left: 6px solid #f4c430;
            transition: .3s;
            animation: fadeUp .8s ease;
        }

        .timetable-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }

        .day-title {
            font-size: 20px;
            font-weight: 600;
            color: #444;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subject-time {
            margin-left: 28px;
            color: #555;
        }

        .badge-custom {
            background: #f4c430;
            color: #000;
            font-weight: 600;
        }

        /* No Data Box */
        .empty-box {
            background: #fff3cd;
            padding: 25px;
            border-radius: 12px;
            border: 2px dashed #d39e23;
            text-align: center;
            animation: fadeUp .8s ease;
        }

        /* Buttons */
        .btn-custom {
            background: #f4c430;
            border-radius: 30px;
            padding: 12px 25px;
            font-weight: 600;
            color: #000;
            transition: .3s;
        }

        .btn-custom:hover {
            background: #d9a323;
            color: white;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        /* Animations */
        @keyframes fadeUp {
            from { opacity:0; transform: translateY(20px); }
            to { opacity:1; transform: translateY(0); }
        }

        @keyframes fadeDown {
            from { opacity:0; transform: translateY(-20px); }
            to { opacity:1; transform: translateY(0); }
        }
    </style>
</head>
<body class="p-4">

<div class="container">

    <!-- Header -->
    <div class="header-card">
        <h2><i class="bi bi-calendar-check"></i> {{ class_name }} - Weekly Timetable</h2>
        <p style="margin-bottom:0;">Stay organized. Stay disciplined. üìö‚ú®</p>
    </div>

    {% if records %}
    <!-- Grouped Timetable -->
    {% set days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"] %}

    {% for d in days %}
        {% set day_records = records | selectattr("day","equalto",d) | list %}
        {% if day_records %}
            <div class="timetable-box mb-3">
                <p class="day-title"><i class="bi bi-clock-history"></i> {{ d }}</p>

                {% for row in day_records %}
                    <p class="subject-time">
                        <span class="badge badge-custom">{{ row.subject }}</span> ‚Äî {{ row.time }}
                    </p>
                {% endfor %}
            </div>
        {% endif %}
    {% endfor %}

    {% else %}
    <!-- Empty message -->
    <div class="empty-box">
        <h4><i class="bi bi-exclamation-circle"></i> Timetable Not Uploaded Yet</h4>
        <p>Check again later or contact your teacher.</p>
    </div>
    {% endif %}

    <div class="text-center mt-4">
        <a href="/timetable" class="btn btn-outline-dark me-2">‚¨Ö Back to Classes</a>
        <a href="/" class="btn-custom">üè† Home</a>
    </div>

</div>

</body>
</html>
